[gd_scene load_steps=11 format=3 uid="uid://dbn6rg0yjknx7"]

[ext_resource type="Script" path="res://scenes/test_navigation_scene.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://dk7x8g5y2m6k" path="res://scenes/player_base.tscn" id="2_base"]
[ext_resource type="PackedScene" uid="uid://cqxeekpeiqctp" path="res://scenes/ui/game_ui.tscn" id="2_mfq6i"]
[ext_resource type="PackedScene" uid="uid://dw7x8g5y2m6k" path="res://scenes/ui/game_over.tscn" id="4_jtcuv"]
[ext_resource type="Script" path="res://scripts/time_modulation.gd" id="6_m5ltl"]
[ext_resource type="Script" path="res://scripts/day_night_manager.gd" id="6_vosdc"]
[ext_resource type="PackedScene" uid="uid://b4r7x8g5y2m6k" path="res://scenes/towers/battery.tscn" id="7_620ee"]
[ext_resource type="PackedScene" uid="uid://cnxj8p7y6uy8k" path="res://scenes/towers/solar_panel.tscn" id="8_bwxai"]
[ext_resource type="PackedScene" uid="uid://c8r7x8g5y2m6k" path="res://scenes/towers/basic_turret.tscn" id="9_twsbj"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1"]
vertices = PackedVector2Array(490, 290, -490, 290, -490, -290, 490, -290)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-500, -300, 500, -300, 500, 300, -500, 300)])

[node name="TestNavigationScene" type="Node2D"]
script = ExtResource("1_script")

[node name="GameUI" parent="." instance=ExtResource("2_mfq6i")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameOver" parent="CanvasLayer" instance=ExtResource("4_jtcuv")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_1")

[node name="PlayerBase" parent="." instance=ExtResource("2_base")]

[node name="SpawnPoints" type="Node2D" parent="."]

[node name="Point1" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-1064, 6)

[node name="Point2" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-294, -489)

[node name="Point3" type="Marker2D" parent="SpawnPoints"]
position = Vector2(810, -486)

[node name="Point4" type="Marker2D" parent="SpawnPoints"]
position = Vector2(1018, 36)

[node name="Point5" type="Marker2D" parent="SpawnPoints"]
position = Vector2(813, 588)

[node name="Point6" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-395, 584)

[node name="SpawnTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.5, 0.5)

[node name="DayNightManager" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("6_vosdc")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
script = ExtResource("6_m5ltl")

[node name="Battery" parent="." node_paths=PackedStringArray("outputs") instance=ExtResource("7_620ee")]
position = Vector2(251, 166)
outputs = [NodePath("../BasicTurret")]

[node name="SolarPanel" parent="." node_paths=PackedStringArray("outputs") instance=ExtResource("8_bwxai")]
position = Vector2(94, 211)
outputs = [NodePath("../Battery")]

[node name="BasicTurret" parent="." instance=ExtResource("9_twsbj")]
position = Vector2(400, 110)

[connection signal="timeout" from="SpawnTimer" to="." method="_on_spawn_timer_timeout"]
